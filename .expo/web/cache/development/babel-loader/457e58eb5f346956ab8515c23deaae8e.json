{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport { Divider } from \"react-native-elements\";\nimport BottomTabs from \"../components/home/BottomTabs\";\nimport Categories from \"../components/home/Categories\";\nimport HeaderTabs from \"../components/home/HeaderTabs\";\nimport RestaurantItems, { localRestaurants } from \"../components/home/RestaurantItems\";\nimport SearchBar from \"../components/home/SearchBar\";\nvar YELP_API_KEY = \"bdRJutLhFAQJ36t7b89CWjHFBU4OKzjt9wvZzcY-nkgmvTqlNMjZWV1eG7iBQ9R74SyfxRg9LWnBAkZY06BtAZAe4d2dfX-2vuX8a1l5V7foctHfX9UKEyoM5ts3YXYx\";\nexport default function Home(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState(localRestaurants),\n      _useState2 = _slicedToArray(_useState, 2),\n      restaurantData = _useState2[0],\n      setRestaurantData = _useState2[1];\n\n  var _useState3 = useState(\"San Francisco\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      city = _useState4[0],\n      setCity = _useState4[1];\n\n  var _useState5 = useState(\"Delivery\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      activeTab = _useState6[0],\n      setActiveTab = _useState6[1];\n\n  var getRestaurantsFromYelp = function getRestaurantsFromYelp() {\n    var yelpUrl = \"https://api.yelp.com/v3/businesses/search?term=restaurants&location=\" + city;\n    var apiOptions = {\n      headers: {\n        Authorization: \"Bearer \" + YELP_API_KEY\n      }\n    };\n    return fetch(yelpUrl, apiOptions).then(function (res) {\n      return res.json();\n    }).then(function (json) {\n      return setRestaurantData(json.businesses.filter(function (business) {\n        return business.transactions.includes(activeTab.toLowerCase());\n      }));\n    });\n  };\n\n  useEffect(function () {\n    getRestaurantsFromYelp();\n  }, [city, activeTab]);\n  return React.createElement(SafeAreaView, {\n    style: {\n      backgroundColor: \"#eee\",\n      flex: 1\n    }\n  }, React.createElement(View, {\n    style: {\n      backgroundColor: \"white\",\n      padding: 15\n    }\n  }, React.createElement(HeaderTabs, {\n    activeTab: activeTab,\n    setActiveTab: setActiveTab\n  }), React.createElement(SearchBar, {\n    cityHandler: setCity\n  })), React.createElement(ScrollView, {\n    showsVerticalScrollIndicator: false\n  }, React.createElement(Categories, null), React.createElement(RestaurantItems, {\n    restaurantData: restaurantData,\n    navigation: navigation\n  })), React.createElement(Divider, {\n    width: 1\n  }), React.createElement(BottomTabs, null));\n}","map":{"version":3,"sources":["C:/Users/alejandro.maranes/Desktop/uber-eats-clone-app-2021/uber-eats-clone-app-2021/screens/Home.js"],"names":["React","useEffect","useState","Divider","BottomTabs","Categories","HeaderTabs","RestaurantItems","localRestaurants","SearchBar","YELP_API_KEY","Home","navigation","restaurantData","setRestaurantData","city","setCity","activeTab","setActiveTab","getRestaurantsFromYelp","yelpUrl","apiOptions","headers","Authorization","fetch","then","res","json","businesses","filter","business","transactions","includes","toLowerCase","backgroundColor","flex","padding"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;;;;;AAEA,SAASC,OAAT,QAAwB,uBAAxB;AACA,OAAOC,UAAP;AACA,OAAOC,UAAP;AACA,OAAOC,UAAP;AACA,OAAOC,eAAP,IACEC,gBADF;AAGA,OAAOC,SAAP;AAEA,IAAMC,YAAY,GAChB,kIADF;AAGA,eAAe,SAASC,IAAT,OAA8B;AAAA,MAAdC,UAAc,QAAdA,UAAc;;AAAA,kBACCV,QAAQ,CAACM,gBAAD,CADT;AAAA;AAAA,MACpCK,cADoC;AAAA,MACpBC,iBADoB;;AAAA,mBAEnBZ,QAAQ,CAAC,eAAD,CAFW;AAAA;AAAA,MAEpCa,IAFoC;AAAA,MAE9BC,OAF8B;;AAAA,mBAGTd,QAAQ,CAAC,UAAD,CAHC;AAAA;AAAA,MAGpCe,SAHoC;AAAA,MAGzBC,YAHyB;;AAK3C,MAAMC,sBAAsB,GAAG,SAAzBA,sBAAyB,GAAM;AACnC,QAAMC,OAAO,4EAA0EL,IAAvF;AAEA,QAAMM,UAAU,GAAG;AACjBC,MAAAA,OAAO,EAAE;AACPC,QAAAA,aAAa,cAAYb;AADlB;AADQ,KAAnB;AAMA,WAAOc,KAAK,CAACJ,OAAD,EAAUC,UAAV,CAAL,CACJI,IADI,CACC,UAACC,GAAD;AAAA,aAASA,GAAG,CAACC,IAAJ,EAAT;AAAA,KADD,EAEJF,IAFI,CAEC,UAACE,IAAD;AAAA,aACJb,iBAAiB,CACfa,IAAI,CAACC,UAAL,CAAgBC,MAAhB,CAAuB,UAACC,QAAD;AAAA,eACrBA,QAAQ,CAACC,YAAT,CAAsBC,QAAtB,CAA+Bf,SAAS,CAACgB,WAAV,EAA/B,CADqB;AAAA,OAAvB,CADe,CADb;AAAA,KAFD,CAAP;AASD,GAlBD;;AAoBAhC,EAAAA,SAAS,CAAC,YAAM;AACdkB,IAAAA,sBAAsB;AACvB,GAFQ,EAEN,CAACJ,IAAD,EAAOE,SAAP,CAFM,CAAT;AAIA,SACE,oBAAC,YAAD;AAAc,IAAA,KAAK,EAAE;AAAEiB,MAAAA,eAAe,EAAE,MAAnB;AAA2BC,MAAAA,IAAI,EAAE;AAAjC;AAArB,KACE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE;AAAED,MAAAA,eAAe,EAAE,OAAnB;AAA4BE,MAAAA,OAAO,EAAE;AAArC;AAAb,KACE,oBAAC,UAAD;AAAY,IAAA,SAAS,EAAEnB,SAAvB;AAAkC,IAAA,YAAY,EAAEC;AAAhD,IADF,EAEE,oBAAC,SAAD;AAAW,IAAA,WAAW,EAAEF;AAAxB,IAFF,CADF,EAKE,oBAAC,UAAD;AAAY,IAAA,4BAA4B,EAAE;AAA1C,KACE,oBAAC,UAAD,OADF,EAEE,oBAAC,eAAD;AACE,IAAA,cAAc,EAAEH,cADlB;AAEE,IAAA,UAAU,EAAED;AAFd,IAFF,CALF,EAYE,oBAAC,OAAD;AAAS,IAAA,KAAK,EAAE;AAAhB,IAZF,EAaE,oBAAC,UAAD,OAbF,CADF;AAiBD","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { View, Text, SafeAreaView, ScrollView } from \"react-native\";\r\nimport { Divider } from \"react-native-elements\";\r\nimport BottomTabs from \"../components/home/BottomTabs\";\r\nimport Categories from \"../components/home/Categories\";\r\nimport HeaderTabs from \"../components/home/HeaderTabs\";\r\nimport RestaurantItems, {\r\n  localRestaurants,\r\n} from \"../components/home/RestaurantItems\";\r\nimport SearchBar from \"../components/home/SearchBar\";\r\n\r\nconst YELP_API_KEY =\r\n  \"bdRJutLhFAQJ36t7b89CWjHFBU4OKzjt9wvZzcY-nkgmvTqlNMjZWV1eG7iBQ9R74SyfxRg9LWnBAkZY06BtAZAe4d2dfX-2vuX8a1l5V7foctHfX9UKEyoM5ts3YXYx\";\r\n\r\nexport default function Home({ navigation }) {\r\n  const [restaurantData, setRestaurantData] = useState(localRestaurants);\r\n  const [city, setCity] = useState(\"San Francisco\");\r\n  const [activeTab, setActiveTab] = useState(\"Delivery\");\r\n\r\n  const getRestaurantsFromYelp = () => {\r\n    const yelpUrl = `https://api.yelp.com/v3/businesses/search?term=restaurants&location=${city}`;\r\n\r\n    const apiOptions = {\r\n      headers: {\r\n        Authorization: `Bearer ${YELP_API_KEY}`,\r\n      },\r\n    };\r\n\r\n    return fetch(yelpUrl, apiOptions)\r\n      .then((res) => res.json())\r\n      .then((json) =>\r\n        setRestaurantData(\r\n          json.businesses.filter((business) =>\r\n            business.transactions.includes(activeTab.toLowerCase())\r\n          )\r\n        )\r\n      );\r\n  };\r\n\r\n  useEffect(() => {\r\n    getRestaurantsFromYelp();\r\n  }, [city, activeTab]);\r\n\r\n  return (\r\n    <SafeAreaView style={{ backgroundColor: \"#eee\", flex: 1 }}>\r\n      <View style={{ backgroundColor: \"white\", padding: 15 }}>\r\n        <HeaderTabs activeTab={activeTab} setActiveTab={setActiveTab} />\r\n        <SearchBar cityHandler={setCity} />\r\n      </View>\r\n      <ScrollView showsVerticalScrollIndicator={false}>\r\n        <Categories />\r\n        <RestaurantItems\r\n          restaurantData={restaurantData}\r\n          navigation={navigation}\r\n        />\r\n      </ScrollView>\r\n      <Divider width={1} />\r\n      <BottomTabs />\r\n    </SafeAreaView>\r\n  );\r\n}"]},"metadata":{},"sourceType":"module"}